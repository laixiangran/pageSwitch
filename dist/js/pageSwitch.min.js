!function(e,a){var n=e.COM;if(!n)throw"没有引入commonJS！";var t={container:"container",pages:"page",easing:"ease",duration:1e3,pagination:!0,loop:!0,keyboard:!1,direction:"vertical",pageSwitchComplete:function(e){}},i=e.pageSwitch=function(e){this.options=n.$O.extend(t,e||{}),this.pageIndex=0,this.container=null,this.pages=[],this.paging=null,this.canScroll=!0,this.offset=0,this.init()};i.prototype={init:function(){var e=this;if(e.container=n.$D.byId(e.options.container),e.pages=n.$D.byClassName(e.options.pages,e.container),n.$D.addClass(e.container,"ps-container"),n.$D.addClass(e.pages[e.pageIndex],"ps-active"),e.options.pagination){var a='<ul class="ps-paging">';n.$A.forEach(e.pages,function(e,n){a+='<li title="'+(n+1)+'"></li>'}),a+="</ul>",e.paging=n.$D.append(document.body,a)}n.$D.addClass(e.paging.childNodes[e.pageIndex],"paging-active"),n.$A.forEach(e.paging.childNodes,function(a,t){n.$E.addEvent(a,"click",function(a){e.pageIndex=t,e.scrollPage()})}),"horizontal"==e.options.direction?(e.paging?n.$D.addClass(e.paging,"ps-paging-h"):n.$O.noop(),n.$D.addClass(e.container,["ps-h-container"]),n.$D.setStyle(e.container,{width:100*e.pages.length+"%","float":"left"}),n.$A.forEach(e.pages,function(a){n.$D.addClass(a,["ps-page","ps-h-page"]),n.$D.setStyle(a,{width:100/e.pages.length+"%","float":"left"})})):(e.paging?n.$D.addClass(e.paging,"ps-paging-v"):n.$O.noop(),n.$A.forEach(e.pages,function(e){n.$D.addClass(e,["ps-page","ps-v-page"])}));var t=n.$B.browser.firefox?"DOMMouseScroll":"mousewheel";n.$E.addEvent(document,t,function(a){if(n.$E.preventDefault(a),e.canScroll){var t=n.$E.getWheelDelta(a);0>t?e.movePageDown():e.movePageUp()}})},movePageUp:function(){var e=this.options,a=this.pages,t=this.pageIndex<=0||e.loop;this.pageIndex?this.pageIndex--:e.loop&&(this.pageIndex=a.length-1),t?this.scrollPage():n.$O.noop()},movePageDown:function(){var e=this.options,a=this.pages,t=this.pageIndex>=a.length-1||e.loop;this.pageIndex<a.length-1?this.pageIndex++:e.loop&&(this.pageIndex=0),t?this.scrollPage():n.$O.noop()},scrollPage:function(){var e=n.$D.getRect(this.pages[this.pageIndex]);e&&this.initEffects(e)},initEffects:function(e){var a=this;a.canScroll=!1;var t=a.options,i=a.container,o="";"horizontal"==t.direction?(0!=a.pageIndex?a.offset-=e.left:a.offset=0,o=a.offset+"px, 0px, 0px"):(0!=a.pageIndex?a.offset-=e.top:a.offset=0,o="0px, "+a.offset+"px, 0px"),n.$D.setStyle(i,{transition:"all "+t.duration+"ms "+t.easing,transform:"translate3d("+o+")"}),n.$A.forEach(a.pages,function(e,t){a.pageIndex==t?n.$D.addClass(e,"ps-active"):n.$D.removeClass(e,"ps-active")}),n.$E.addEvent(i,"transitionend",function(){a.canScroll=!0,t.pageSwitchComplete(a.pageIndex)}),a.paging&&n.$A.forEach(a.paging.childNodes,function(e,t){a.pageIndex==t?n.$D.addClass(e,"paging-active"):n.$D.removeClass(e,"paging-active")})}}}(window);