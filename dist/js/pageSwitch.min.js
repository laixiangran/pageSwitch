!function(e,t){var n=e.COM;if(!n)throw"没有引入commonJS！";var o={container:"container",pages:"page",easing:"ease",duration:1e3,pagination:!0,loop:!0,keyboard:!1,direction:"vertical",pageSwitchComplete:function(e){}},i=e.pageSwitch=function(e){this.options=n.$O.extend(o,e||{}),this.pageIndex=0,this.container=null,this.pages=[],this.canScroll=!0,this.offset=0,this.init()};i.prototype={init:function(){var e=this;e.container=n.$D.byId(e.options.container),e.pages=n.$D.byClassName(e.options.pages,e.container);var t=n.$B.browser.firefox?"DOMMouseScroll":"mousewheel";n.$E.addEvent(document,t,function(t){if(n.$E.preventDefault(t),e.canScroll){var o=n.$E.getWheelDelta(t);0>o?e.movePageDown():e.movePageUp()}})},movePageUp:function(){var e=this.options,t=this.pages,o=this.pageIndex<=0||e.loop;this.pageIndex?this.pageIndex--:e.loop&&(this.pageIndex=t.length-1),o?n.$O.noop():this.scrollPage(t[this.pageIndex])},movePageDown:function(){var e=this.options,t=this.pages,o=this.pageIndex>=t.length-1||e.loop;this.pageIndex<t.length-1?this.pageIndex++:e.loop&&(this.pageIndex=0),o?n.$O.noop():this.scrollPage(t[this.pageIndex])},scrollPage:function(e){var t=n.$D.getRect(e);t&&this.initEffects(t,this.pageIndex)},initEffects:function(e,t){var o=this;o.canScroll=!1;var i=o.options,a=o.container,s="";"horizontal"==i.direction?(0!=o.pageIndex?o.offset-=e.left:o.offset=0,s=o.offset+"px, 0px, 0px"):(0!=o.pageIndex?o.offset-=e.top:o.offset=0,s="0px, "+o.offset+"px, 0px"),n.$D.setStyle(a,{transition:"all "+i.duration+"ms "+i.easing,transform:"translate3d("+s+")"}),n.$A.forEach(o.pages,function(e,o){t==o?n.$D.addClass(e,"active"):n.$D.removeClass(e,"active")}),n.$E.addEvent(a,"transitionend",function(){o.canScroll=!0,i.pageSwitchComplete(o.pageIndex)}),i.pagination}}}(window);