!function(n){function t(n){var t=n.position();"undefined"!=typeof t&&s(t,n)}function i(n){n.preventDefault();var t=n.originalEvent.wheelDelta||-n.originalEvent.detail,i=Math.max(-1,Math.min(1,t));return p&&(0>i?w.moveSectionDown():w.moveSectionUp()),!1}function o(){var n=u.length,t=100*n+"%",i=(100/n).toFixed(2)+"%";f.width(t).addClass("left"),u.width(i).addClass("left")}function e(){for(var t=u.length,i='<ul id="pages"><li class="active"></li>',o=1;t>o;o++)i+="<li></li>";i+="</ul>",n("body").append(i)}function a(){var t=n("#pages li");t.eq(h).addClass("active").siblings().removeClass("active")}function r(t){for(var i=n("body")[0],o=0;o<t.length;o++)if(t[o]in i.style)return!0;return!1}function s(n,t){var i=["-webkit-transform","-ms-transform","-moz-transform","transform"],o=["-webkit-transition","-ms-transition","-moz-transition","transition"];if(p=!1,r(i)&&r(o)){var e="";e="horizontal"==m.direction?"-"+n.left+"px, 0px, 0px":"0px, -"+n.top+"px, 0px",f.css({transition:"all "+m.duration+"ms "+m.easing,transform:"translate3d("+e+")"}),f.on("webkitTransitionEnd msTransitionend mozTransitionend transitionend",function(){p=!0})}else{var s="horizontal"==m.direction?{left:-n.left}:{top:-n.top};f.animate(s,m.duration,function(){p=!0})}t.addClass("active").siblings().removeClass("active"),m.pagination&&a()}function c(){var n=v.height(),t=v.width(),i=g[h];if("horizontal"==m.direction){var o=i.offset().left;Math.abs(o)>t/2&&h<g.length-1&&h++}else{var e=i.offset().top;Math.abs(e)>n/2&&h<g.length-1&&h++}if(h){a();var r=g[h],c=r.position();s(c,r)}}function l(){var n;v.keydown(function(t){clearTimeout(n),n=setTimeout(function(){var n=t.keyCode;37==n||38==n?w.moveSectionUp():(39==n||40==n)&&w.moveSectionDown()},150)})}var f,u,d={container:"#container",sections:".section",easing:"ease",duration:1e3,pagination:!0,loop:!1,keyboard:!0,direction:"vertical",pageSwitchComplete:function(n){}},v=n(window),m={},p=!0,h=0,g=[],w=n.fn.switchPage=function(t){return m=n.extend({},d,t||{}),f=n(m.container),u=f.find(m.sections),u.each(function(){g.push(n(this))}),this.each(function(){"horizontal"==m.direction&&o(),m.pagination&&e(),m.keyboard&&l()})};w.moveSectionUp=function(){h?h--:m.loop&&(h=g.length-1),t(g[h])},w.moveSectionDown=function(){h<g.length-1?h++:m.loop&&(h=0),t(g[h])},n(document).on("mousewheel DOMMouseScroll",i);var b;v.resize(function(){clearTimeout(b),b=setTimeout(function(){c()},500)})}(jQuery);