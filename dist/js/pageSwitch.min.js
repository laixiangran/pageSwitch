!function(e,t){var a=e.COM;if(!a)throw"没有引入commonJS！";var n={container:"container",pages:"page",easing:"ease",duration:1e3,pagination:!0,loop:!0,keyboard:!1,direction:"vertical",pageSwitchComplete:function(e){}},o=e.pageSwitch=function(e){this.options=a.$O.extend(n,e||{}),this.pageIndex=0,this.container=null,this.pages=[],this.canScroll=!0,this.offset=0,this.init()};o.prototype={init:function(){var e=this;e.container=a.$D.byId(e.options.container),e.pages=a.$D.byClassName(e.options.pages,e.container),a.$D.addClass(e.container,"ps-container"),a.$D.addClass(e.pages[0],"ps-active"),"horizontal"==e.options.direction?(a.$D.addClass(e.container,"ps-h-container"),a.$D.addClass(e.container,"ps-left"),a.$A.forEach(e.pages,function(e,t,n){a.$D.addClass(e,"ps-page"),a.$D.addClass(e,"ps-h-page"),a.$D.addClass(e,"ps-left")})):a.$A.forEach(e.pages,function(e,t,n){a.$D.addClass(e,"ps-page"),a.$D.addClass(e,"ps-v-page")});var t=a.$B.browser.firefox?"DOMMouseScroll":"mousewheel";a.$E.addEvent(document,t,function(t){if(a.$E.preventDefault(t),e.canScroll){var n=a.$E.getWheelDelta(t);0>n?e.movePageDown():e.movePageUp()}})},movePageUp:function(){var e=this.options,t=this.pages,n=this.pageIndex<=0||e.loop;this.pageIndex?this.pageIndex--:e.loop&&(this.pageIndex=t.length-1),n?a.$O.noop():this.scrollPage(t[this.pageIndex])},movePageDown:function(){var e=this.options,t=this.pages,n=this.pageIndex>=t.length-1||e.loop;this.pageIndex<t.length-1?this.pageIndex++:e.loop&&(this.pageIndex=0),n?a.$O.noop():this.scrollPage(t[this.pageIndex])},scrollPage:function(e){var t=a.$D.getRect(e);t&&this.initEffects(t,this.pageIndex)},initEffects:function(e,t){var n=this;n.canScroll=!1;var o=n.options,s=n.container,i="";"horizontal"==o.direction?(0!=n.pageIndex?n.offset-=e.left:n.offset=0,i=n.offset+"px, 0px, 0px"):(0!=n.pageIndex?n.offset-=e.top:n.offset=0,i="0px, "+n.offset+"px, 0px"),a.$D.setStyle(s,{transition:"all "+o.duration+"ms "+o.easing,transform:"translate3d("+i+")"}),a.$A.forEach(n.pages,function(e,n){t==n?a.$D.addClass(e,"ps-active"):a.$D.removeClass(e,"ps-active")}),a.$E.addEvent(s,"transitionend",function(){n.canScroll=!0,o.pageSwitchComplete(n.pageIndex)}),o.pagination}}}(window);