!function(e,t){var n=e.COM;if(!n)throw"没有引入commonJS！";var i={container:"container",pages:"page",easing:"ease",duration:1e3,pagination:!0,loop:!0,keyboard:!1,direction:"vertical",pageSwitchComplete:function(e){}},o=e.pageSwitch=function(e){this.options=n.$O.extend(i,e||{}),this.pageIndex=0,this.container=null,this.pages=[],this.canScroll=!0,this.offset=0,this.init()};o.prototype={init:function(){var e=this;e.container=n.$D.byId(e.options.container),e.pages=n.$D.byClassName(e.options.pages,e.container);var t=n.$B.browser.firefox?"DOMMouseScroll":"mousewheel";n.$E.addEvent(document,t,function(t){if(n.$E.preventDefault(t),e.canScroll){var i=n.$E.getWheelDelta(t);0>i?e.movePageDown():e.movePageUp()}})},movePageUp:function(){var e=this.options,t=this.pages,i=this.pageIndex<=0||e.loop;this.pageIndex?this.pageIndex--:e.loop&&(this.pageIndex=t.length-1),i?n.$O.noop():this.scrollPage(t[this.pageIndex])},movePageDown:function(){var e=this.options,t=this.pages,i=this.pageIndex>=t.length-1||e.loop;this.pageIndex<t.length-1?this.pageIndex++:e.loop&&(this.pageIndex=0),i?n.$O.noop():this.scrollPage(t[this.pageIndex])},scrollPage:function(e){var t=n.$D.getRect(e);t&&(0!=this.pageIndex?this.offset-=t.top:this.offset=0,this.initEffects(this.offset,this.pageIndex))},initEffects:function(e,t){var i=this;i.canScroll=!1;var o=i.options,a=i.container,s="";"horizontal"==o.direction||(s="0px, "+e+"px, 0px"),n.$D.setStyle(a,{transition:"all "+o.duration+"ms "+o.easing,transform:"translate3d("+s+")"}),n.$A.forEach(i.pages,function(e,i){t==i?n.$D.addClass(e,"active"):n.$D.removeClass(e,"active")}),n.$E.addEvent(a,"transitionend",function(){i.canScroll=!0,o.pageSwitchComplete(i.pageIndex)}),o.pagination}}}(window);