!function(e,t){var n=e.COM;if(!n)throw"没有引入commonJS！";var a={container:"container",pages:"page",easing:"ease",duration:1e3,pagination:!0,loop:!0,keyboard:!1,direction:"vertical",pageSwitchComplete:function(e){}},o=e.pageSwitch=function(e){this.options=n.$O.extend(a,e||{}),this.pageIndex=0,this.container=null,this.pages=[],this.paging=[],this.canScroll=!0,this.offset=0,this.init()};o.prototype={init:function(){var e=this;if(e.container=n.$D.byId(e.options.container),e.pages=n.$D.byClassName(e.options.pages,e.container),n.$D.addClass(e.container,"ps-container"),n.$D.addClass(e.pages[0],"ps-active"),e.options.pagination){var t='<ul class="ps-paging">';n.$A.forEach(e.pages,function(e,n){t+="<li></li>"}),t+="</ul>",n.$D.append(document.body,t)}"horizontal"==e.options.direction?(n.$D.addClass(e.container,["ps-h-container","ps-left"]),n.$A.forEach(e.pages,function(e){n.$D.addClass(e,["ps-page","ps-h-page","ps-left"])})):n.$A.forEach(e.pages,function(e){n.$D.addClass(e,["ps-page","ps-v-page"])});var a=n.$B.browser.firefox?"DOMMouseScroll":"mousewheel";n.$E.addEvent(document,a,function(t){if(n.$E.preventDefault(t),e.canScroll){var a=n.$E.getWheelDelta(t);0>a?e.movePageDown():e.movePageUp()}})},movePageUp:function(){var e=this.options,t=this.pages,a=this.pageIndex<=0||e.loop;this.pageIndex?this.pageIndex--:e.loop&&(this.pageIndex=t.length-1),a?n.$O.noop():this.scrollPage(t[this.pageIndex])},movePageDown:function(){var e=this.options,t=this.pages,a=this.pageIndex>=t.length-1||e.loop;this.pageIndex<t.length-1?this.pageIndex++:e.loop&&(this.pageIndex=0),a?n.$O.noop():this.scrollPage(t[this.pageIndex])},scrollPage:function(e){var t=n.$D.getRect(e);t&&this.initEffects(t,this.pageIndex)},initEffects:function(e,t){var a=this;a.canScroll=!1;var o=a.options,i=a.container,s="";"horizontal"==o.direction?(0!=a.pageIndex?a.offset-=e.left:a.offset=0,s=a.offset+"px, 0px, 0px"):(0!=a.pageIndex?a.offset-=e.top:a.offset=0,s="0px, "+a.offset+"px, 0px"),n.$D.setStyle(i,{transition:"all "+o.duration+"ms "+o.easing,transform:"translate3d("+s+")"}),n.$A.forEach(a.pages,function(e,a){t==a?n.$D.addClass(e,"ps-active"):n.$D.removeClass(e,"ps-active")}),n.$E.addEvent(i,"transitionend",function(){a.canScroll=!0,o.pageSwitchComplete(a.pageIndex)}),o.pagination}}}(window);